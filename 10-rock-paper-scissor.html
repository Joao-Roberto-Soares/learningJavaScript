<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Rock Paper Scissors</title>
    <style>
      body {
        background-color: rgb(25, 25, 25);
        color: white;
        font-family: Arial, sans-serif;
      }

      .title {
        font-size: 30px;
        font-weight: bold;
      }

      .move-icon {
        height: 50px;
      }

      .move-button {
        background-color: transparent;
        border: 3px solid white;
        border-radius: 60px;
        width: 120px;
        height: 120px;
        margin-right: 10px;
        cursor: pointer;
      }

      .reset-score {
        cursor: pointer;
        width: 400px;
        margin-top: 20px;
        background-color: white;
        height: 2rem;
        border: none;
      }

      div {
        margin-top: 200px;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <div>
      <p class="title">Rock Paper Scissors</p>

      <button onclick="playGame('rock')" class="move-button">
        <img src="images/rock-emoji.png" alt="Rock" class="move-icon">
      </button>

      <button onclick="playGame('paper')" class="move-button">
        <img src="images/paper-emoji.png" alt="Paper" class="move-icon">
      </button>

      <button onclick="playGame('scissors')" class="move-button">
        <img src="images/scissors-emoji.png" alt="Scissors" class="move-icon">
      </button>

      <p class="js-score"></p>

      <button onclick="resetScore()" class="reset-score">Reset Score</button>
    </div>

    <script>
      // Retrieve saved score or initialize
      let game = JSON.parse(localStorage.getItem('score')) || {
        wins: 0,
        losses: 0,
        ties: 0
      };

      // Reset score
      function resetScore() {
        game = { wins: 0, losses: 0, ties: 0 };
        localStorage.removeItem('score');
        document.querySelector('.js-score').innerHTML =
          'Wins: 0, Losses: 0, Ties: 0';
      }

      // Computer chooses random move
      function pickComputerMove() {
        const randomNumber = Math.random();

        if (randomNumber < 1 / 3) {
          return 'rock';
        } else if (randomNumber < 2 / 3) {
          return 'paper';
        } else {
          return 'scissors';
        }
      }

      // Main game logic
      function playGame(playerMove) {
        const computerMove = pickComputerMove();
        let result = '';

        if (playerMove === computerMove) {
          result = 'Tie';
          game.ties++;
        } else if (
          (playerMove === 'rock' && computerMove === 'scissors') ||
          (playerMove === 'paper' && computerMove === 'rock') ||
          (playerMove === 'scissors' && computerMove === 'paper')
        ) {
          result = 'You win';
          game.wins++;
        } else {
          result = 'You lose';
          game.losses++;
        }

        localStorage.setItem('score', JSON.stringify(game));
        updateScoreElement(playerMove, computerMove, result);
      }

      // Update score display
      function updateScoreElement(playerMove, computerMove, result) {
        document.querySelector('.js-score').innerHTML = `
          You: <strong>${playerMove}</strong> - Computer: <strong>${computerMove}</strong>.<br><br>
          <strong>${result}</strong>.<br><br>
          Wins: ${game.wins}, Losses: ${game.losses}, Ties: ${game.ties}
        `;
      }

      // Initialize score display on load
      updateScoreElement('-', '-', 'Start playing!');
    </script>
  </body>
</html>
